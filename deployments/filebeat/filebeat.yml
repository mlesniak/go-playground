logging.metrics.enabled: false
logging.level: info

filebeat.autodiscover:
  providers:
    - type: docker
      templates:
        - condition:
            equals:
              docker.container.labels.log: "true"
          config:
            - type: container
              json.keys_under_root: true
              json.add_error_key: true
              paths:
                - /var/lib/docker/containers/${data.docker.container.id}/*.log

processors:
  - drop_fields:
      fields:
        [
          "stream",
          "log",
          "input",
          "agent",
          "docker",
          "metadata",
          "ecs",
          "container",
        ]

  # From Sematext documentation
  - rename:
      fields:
        - from: host
          to: host_object
setup.template:
  enabled: false
  overwrite: false

output:
  elasticsearch:
    hosts: ["https://logsene-receiver.eu.sematext.com:443"]
    protocol: https
    # TODO Will be removed and replaced later
    index: "${SEMATEXT_TOKEN}"

# See https://stackoverflow.com/questions/57836793/mysterious-filebeat-7-x-pack-issue-using-docker-image
#  setup.ilm.enabled: false

logging.metrics.enabled: false
logging.level: info

# filebeat.inputs:
#   - type: container
#     paths:
#     - /var/lib/docker/containers/*/*.log

filebeat.autodiscover:
  providers:
    - type: docker
      templates:
        - condition:
            equals:
              docker.container.labels.log: 'true'
          config:
            - type: container
              json.keys_under_root: true
              json.add_error_key: true
              paths:
                - /var/lib/docker/containers/${data.docker.container.id}/*.log

# output:
#   # For debugging. Disable later...
#   # console:
#     # pretty: true
#   elasticsearch:
#     hosts: ["https://logsene-receiver.eu.sematext.com:443"]
#     protocol: https
#     # TODO Will be removed and replaced later
#     index: "5f8c7021-e54a-48cf-86af-669696fb804c"

output.console:
  pretty: true
  enabled: true

